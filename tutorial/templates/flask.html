{% extends 'base.html' %}
{% block content %}
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Flask Notes</title>
<style>
 body{font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial;background:#f7fafc;color:#0f172a;margin:0;padding:0}
 .container{max-width:1050px;margin:0 auto;padding:28px}
 h1{margin:12px 0;font-size:20px}
 h2{margin:20px 0 8px;font-size:14px}
 h3{margin:14px 0 6px;font-size:10px}
 section{background:#fff;border:1px solid #e2e8f0;border-radius:12px;box-shadow:0 5px 20px rgba(2,6,23,.06);margin:16px 0}
 .pad{padding:18px}
 pre {
  background: #1e293b;
  color: #e2e8f0;
  padding: 10px;
  border-radius: 12px;
  box-shadow: 0 10px 20px rgba(2,8,23,.35);
  font-size:10px
}
code {
  font-family: ui-monospace, Menlo, Consolas, monospace;
}
 .pill{display:inline-block;background:#e0f2fe;color:#0369a1;padding:4px 10px;font-size:.8rem;border-radius:10px;margin:2px 4px 2px 0}
</style>
</head>
<body>
<div class="container">
<h1>Flask Notes</h1>
<p>Fast guide for building Python web apps: routing, templates, forms, DB, auth, and common commands.</p>

<section><div class="pad">
<h2>1) Install & Run</h2>
<pre><code># install
pip install flask

# run
python app.py
</code></pre>
</div></section>

<section><div class="pad">
<h2>2) Basic App</h2>
<pre><code># app.py
from flask import Flask
app = Flask(__name__)

@app.route('/')
def home():
    return "Hello Flask"

if __name__ == '__main__':
    app.run(debug=True)
</code></pre>
</div></section>

<section><div class="pad">
<h2>3) Routes â€” GET, POST & Params</h2>
<pre><code>@app.route('/user/<name>')
def user(name):
    return f"Hi {name}"

@app.route('/add', methods=['POST'])
def add():
    data = request.json
    return {"sum": data['a'] + data['b']}
</code></pre>
</div></section>

<section><div class="pad">
<h2>4) Templates (Jinja2)</h2>
<pre><code># folder: templates/index.html
<!doctype html>
<html>
<body>
  <h1>Hello {{ name }}</h1>
</body>
</html>

# app.py
from flask import render_template
@app.route('/page')
def page():
    return render_template('index.html', name='Flask')
</code></pre>
</div></section>

<section><div class="pad">
<h2>5) Static Files</h2>
<pre><code># folder: static/style.css
<link rel="stylesheet" href="/website/static/style.css">

# in template

</code></pre>
</div></section>

<section><div class="pad">
<h2>6) Forms (GET/POST)</h2>
<pre><code># form template
<form method="POST">
  <input name="name">
  <button>Submit</button>
</form>

# app.py
from flask import request
@app.route('/form', methods=['GET','POST'])
def form():
    if request.method=='POST':
        name = request.form['name']
        return f"Hello {name}"
    return render_template('form.html')
</code></pre>
</div></section>

<section><div class="pad">
<h2>7) JSON API</h2>
<pre><code>from flask import jsonify
@app.route('/api')
def api():
    return jsonify({"status":"ok"})
</code></pre>
</div></section>

<section><div class="pad">
<h2>8) File Upload</h2>
<pre><code># form
enctype="multipart/form-data"
<input type="file" name="file">

# app.py
from flask import request
@app.route('/upload', methods=['POST'])
def upload():
    f = request.files['file']
    f.save('saved_'+f.filename)
    return "OK"
</code></pre>
</div></section>

<section><div class="pad">
<h2>9) Sessions & Cookies</h2>
<pre><code>app.secret_key = 'secret'
from flask import session

@app.route('/set')
def set():
    session['user']='admin'
    return "saved"

@app.route('/get')
def get():
    return session.get('user','none')
</code></pre>
</div></section>

<section><div class="pad">
<h2>10) Database Example (SQLite)</h2>
<pre><code># pip install flask_sqlalchemy
from flask_sqlalchemy import SQLAlchemy
app.config['SQLALCHEMY_DATABASE_URI'] = 'sqlite:///app.db'
db = SQLAlchemy(app)

class User(db.Model):
    id = db.Column(db.Integer, primary_key=True)
    name = db.Column(db.String(80))

@app.route('/add/<n>')
def add_user(n):
    u = User(name=n)
    db.session.add(u)
    db.session.commit()
    return "saved"
</code></pre>
</div></section>

<section><div class="pad">
<h2>11) Blueprints (Modular Apps)</h2>
<pre><code># blog/routes.py
from flask import Blueprint
blog = Blueprint('blog', __name__)

@blog.route('/blog')
def show(): return "blog page"

# app.py
from blog.routes import blog
app.register_blueprint(blog)
</code></pre>
</div></section>

<section><div class="pad">
<h2>12) Authentication (Flask-Login)</h2>
<pre><code>pip install flask-login
from flask_login import LoginManager, UserMixin

lm = LoginManager(app)

class User(UserMixin): pass

@lm.user_loader
def load(uid): return User()
</code></pre>
</div></section>

<section><div class="pad">
<h2>Common Commands</h2>
<pre><code>python app.py
flask run --port 8000 --reload
export FLASK_ENV=development
</code></pre>
</div></section>

</div>
{% endblock %}
